# This is the name of your environment. It should usually map to the project
# name.
name = "devshell"

# Add packages from nixpkgs here. Use `nix search nixpkgs <term>` to find the
# package that you need.
#
# NOTE: don't forget to put commas between items! :)
packages = [
  "go",
  "mdsh",
]

# Message Of The Day (MOTD) is displayed when entering the environment with an
# interactive shell. By default it will show the project name.
#
# motd = ""

# This setting helps to add a project's shared *development* root CA
# to host's local trust stores by instrumenting the mkcert third party tool.
# Defining this section also adds `mkcert` to the available packages.
# Set to the path where mkcert-generated CAROOT files are expected to exist
#
# NOTES:
# - be careful to only put *development* certificates under version control
# - create those files with the devshell generated *-install-CA command
# - optionally put this path under .gitignore, if you want users to
#   generate certificates themselves on first clone (using *-install-CA)
# dev-ca-path = "./dev-ca"

# Use this section to set environment variables to have in the environment.
#
# NOTE: all the values are escaped
[env]
FOO = 1

# These are bash-specific configurations. The idea is to maybe support other
# shell environments in the future, although it is not the case right now.
[bash]

# Loaded after the environment setup. Useful to set dynamic environment
# variables.
extra = """
export BAR=$FOO
"""

# Only loaded in interactive shells. NOTE: `nix-shell -c "ls"` is interactive
interactive = """

"""

# Declare commands that are available in the environment.
[[commands]]
help = "prints hello"
name = "hello"
command = "echo hello"

[[commands]]
help = "used to format Nix code"
name = "nixpkgs-fmt"
package = "nixpkgs-fmt"

[[commands]]
help = "github utility"
name = "hub"
package = "gitAndTools.hub"

# These settings help to manage local DNS overrides via
# instrumentation of the hostcl third party tool.
# Defining this section also adds `hostctl` to the available packages.
[static-dns]
test.domain.local = 172.0.0.1
shared.domain.link-local = 169.254.0.5

